<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Filters</title>
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png?v=1">
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; background-color: #121212; color: #e0e0e0; }
        button { background-color: #333; color: #e0e0e0; border: 1px solid #444; padding: 5px 10px; cursor: pointer; margin-left: 5px; }
        button:hover { background-color: #444; }
        .activeBtn { background-color: #555; border-color: #888; font-weight: bold; }
        #genresContainer label, #moodsContainer label { display: block; }
        #applyFilters, #cancelFilters { margin-top: 10px; }
        input { font-size: 16px; }
        #filtersContainer { display: flex; justify-content: space-between; }
        #genresContainer, #moodsContainer { width: 48%; }
        .year-input {
            width: 50px; /* Adjust width as needed */
            padding: 10px; /* Increase padding for larger appearance */
            font-size: 18px; /* Increase font size */
            height: 0px; /* Optional: set a specific height */
        }
        .year-input::-webkit-inner-spin-button,
        .year-input::-webkit-outer-spin-button {
            -webkit-appearance: none; /* Remove spinners in Chrome, Safari, Edge */
            margin: 0; /* Remove default margin */
        }

        .year-input {
            -moz-appearance: textfield; /* Remove spinners in Firefox */
        }
    </style>
</head>
<body>
    <h3>Year Range</h3>
    <input type="number" id="minYear" class="year-input" placeholder="Year" min="1900" max="2100">
    <input type="number" id="maxYear" class="year-input" placeholder="Year" min="1900" max="2100">
    <div id="filtersContainer">
        <div id="genresContainer"><h3>Genres tags</h3></div>
        <div id="moodsContainer"><h3>Moods tags</h3></div>
    </div>
    <h3>Movie Search</h3>
    <input type="text" id="searchInput" placeholder="Search Movies...">
    <h3>Actor Search</h3>
    <input type="text" id="actorInput" placeholder="Actor Names...">
    <button id="applyFilters">Apply</button>
    <button id="cancelFilters">Cancel</button>

    <script>
        let selectedGenres = JSON.parse(localStorage.getItem('selectedGenres')) || [];
        let selectedMoods = JSON.parse(localStorage.getItem('selectedMoods')) || [];
        let searchQuery = localStorage.getItem('searchQuery') || '';
        let actorQuery = localStorage.getItem('actorQuery') || '';
        let minYear = localStorage.getItem('minYear') || '';
        let maxYear = localStorage.getItem('maxYear') || '';

        const genres = [
            {id: 28, name: 'Action'},
            {id: 12, name: 'Adventure'},
            {id: 16, name: 'Animation'},
            {id: 35, name: 'Comedy'},
            {id: 80, name: 'Crime'},
            {id: 18, name: 'Drama'},
            {id: 10751, name: 'Family'},
            {id: 14, name: 'Fantasy'},
            {id: 27, name: 'Horror'},
            {id: 10749, name: 'Romance'},
            {id: 878, name: 'Science Fiction'},
            {id: 53, name: 'Thriller'}
        ];

        const moods = [
            {id: 9672, name: 'Feel-Good'},
            {id: 9715, name: 'Thrilling'},
            {id: 9760, name: 'Thought-Provoking'},
            {id: 9673, name: 'Heartwarming'},
            {id: 9733, name: 'Inspiring'},
            {id: 9713, name: 'Suspenseful'},
            {id: 17296, name: 'Whimsical'}
        ];

        const genresContainer = document.getElementById('genresContainer');
        genres.forEach(genre => {
            const label = document.createElement('label');
            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.value = genre.id;
            checkbox.checked = selectedGenres.includes(genre.id);
            label.appendChild(checkbox);
            label.appendChild(document.createTextNode(genre.name));
            genresContainer.appendChild(label);
        });

        const moodsContainer = document.getElementById('moodsContainer');
        moods.forEach(mood => {
            const label = document.createElement('label');
            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.value = mood.id;
            checkbox.checked = selectedMoods.includes(mood.id);
            label.appendChild(checkbox);
            label.appendChild(document.createTextNode(mood.name));
            moodsContainer.appendChild(label);
        });

        const searchInput = document.getElementById('searchInput');
        searchInput.value = searchQuery;

        const actorInput = document.getElementById('actorInput');
        actorInput.value = actorQuery;

        const minYearInput = document.getElementById('minYear');
        minYearInput.value = minYear;

        const maxYearInput = document.getElementById('maxYear');
        maxYearInput.value = maxYear;

        document.getElementById('applyFilters').onclick = () => {
            selectedGenres = [];
            genresContainer.querySelectorAll('input:checked').forEach(cb => {
                selectedGenres.push(parseInt(cb.value));
            });
            selectedMoods = [];
            moodsContainer.querySelectorAll('input:checked').forEach(cb => {
                selectedMoods.push(parseInt(cb.value));
            });
            localStorage.setItem('selectedGenres', JSON.stringify(selectedGenres));
            localStorage.setItem('selectedMoods', JSON.stringify(selectedMoods));
            searchQuery = searchInput.value.trim();
            localStorage.setItem('searchQuery', searchQuery);
            actorQuery = actorInput.value.trim();
            localStorage.setItem('actorQuery', actorQuery);
            localStorage.setItem('minYear', minYearInput.value);
            localStorage.setItem('maxYear', maxYearInput.value);
            location.href = 'index.html';
        };

        document.getElementById('cancelFilters').onclick = () => {
            location.href = 'index.html';
        };
    </script>
</body>
</html>